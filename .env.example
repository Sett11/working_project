# ==========================================
# DOCKER COMPOSE SETTINGS
# ==========================================
COMPOSE_PROJECT_NAME=aircon_sales

# ==========================================
# BACKEND SETTINGS
# ==========================================
BACKEND_HOST=0.0.0.0
BACKEND_PORT=8000
# Internal Docker URL (for container-to-container communication)
BACKEND_URL=http://backend:8000

# ==========================================
# FRONTEND SETTINGS
# ==========================================
FRONTEND_PORT=80
# API URL for frontend (relative path, proxied through Nginx)
VITE_API_BASE_URL=/api

# ==========================================
# DATABASE SETTINGS
# ==========================================
POSTGRES_USER=postgres
POSTGRES_PASSWORD=YOUR_SECURE_PASSWORD_HERE
POSTGRES_DB=form_com_offer_db
POSTGRES_PORT=5432

# Database URLs
# Async URL for Docker (used inside backend container)
DATABASE_URL=postgresql+asyncpg://postgres:YOUR_SECURE_PASSWORD_HERE@db:5432/form_com_offer_db

# Async URL for local development (on host machine)
DATABASE_URL_LOCAL=postgresql+asyncpg://postgres:YOUR_SECURE_PASSWORD_HERE@localhost:5432/form_com_offer_db

# Sync URL for initialization scripts
DATABASE_URL_SYNC=postgresql://postgres:YOUR_SECURE_PASSWORD_HERE@db:5432/form_com_offer_db

# ==========================================
# AUTHENTICATION & SECURITY
# ==========================================
# IMPORTANT: Change this for production!
SECRET_KEY=YOUR_SECRET_KEY_32_CHARS_MIN

# JWT settings
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# ==========================================
# CORS SETTINGS
# ==========================================
CORS_ORIGINS=http://localhost:3000,http://localhost:5173,http://localhost:80,http://localhost:8000,http://localhost

# ==========================================
# DATABASE PERFORMANCE TUNING
# ==========================================
POSTGRES_SHARED_BUFFERS=512MB
POSTGRES_EFFECTIVE_CACHE_SIZE=2GB
POSTGRES_WORK_MEM=8MB
POSTGRES_MAX_CONNECTIONS=30

# Autovacuum settings
POSTGRES_AUTOVACUUM_MAX_WORKERS=3
POSTGRES_AUTOVACUUM_NAPTIME=60
POSTGRES_AUTOVACUUM_VACUUM_THRESHOLD=50
POSTGRES_AUTOVACUUM_ANALYZE_THRESHOLD=50

# WAL (Write-Ahead Logging) settings
POSTGRES_WAL_LEVEL=replica
POSTGRES_MAX_WAL_SENDERS=3
POSTGRES_WAL_KEEP_SEGMENTS=64

# Logging settings
POSTGRES_LOG_STATEMENT=all
POSTGRES_LOG_MIN_DURATION_STATEMENT=1000
POSTGRES_LOG_CHECKPOINTS=on
POSTGRES_LOG_CONNECTIONS=on
POSTGRES_LOG_DISCONNECTIONS=on

# SSL settings (off for development)
POSTGRES_SSL=off
POSTGRES_SSL_CERT_FILE=
POSTGRES_SSL_KEY_FILE=

# ==========================================
# APPLICATION TIMEOUTS
# ==========================================
DB_TIMEOUT=60
DB_INTERVAL=5
POOL_DRAIN_TIMEOUT=5

# ==========================================
# MONITORING SETTINGS
# ==========================================
MONITORING_ENABLED=true
MONITORING_INTERVAL=300
MONITORING_LOG_QUERIES=true

# ==========================================
# BACKUP SETTINGS
# ==========================================
BACKUP_RETENTION_DAYS=7
BACKUP_COMPRESSION=true
BACKUP_VERIFY_INTEGRITY=true
